<?xml version="1.0" ?>
<sdf version="1.6">
  <world name="default">
    <include>
      <uri>model://ground_plane</uri>
    </include>

    <include>
      <uri>model://sun</uri>
    </include>

    <!-- Definir um modelo simples -->
    <model name="propeller_test_model">
      <!-- Ajustar a posição para que o modelo esteja logo acima do solo -->
      <pose>0 0 0.5 0 0 0</pose>

      <!-- Um link simples -->
      <link name="base_link">
        <inertial>
          <mass>1.0</mass>
          <inertia>
            <ixx>0.1</ixx>
            <iyy>0.1</iyy>
            <izz>0.1</izz>
          </inertia>
        </inertial>
        <visual name="imu_visual">
          <pose>0 0 0 3.141593 0 0</pose>
          <geometry>
            <box>
              <size>0.1 0.05 0.04</size>
            </box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Red</name>
            </script>
          </material>
        </visual>
        <collision name="base_link_collision">
          <pose>0 0 0 0 0 0</pose>
          <geometry>
            <box>
              <size>0.08 0.08 0.10</size>
            </box>
          </geometry>
          <surface>
            <contact>
              <ode>
                <max_vel>100.0</max_vel>
                <min_depth>0.001</min_depth>
              </ode>
            </contact>
            <friction>
              <ode>
                <mu>100000.0</mu>
                <mu2>100000.0</mu2>
              </ode>
            </friction>
          </surface>
        </collision>
      </link>
  
	  <!--
      <plugin name="plugin_resistencia_ar_simples" filename="libfluid_resitance_plugin.so">
        <fluid_resistanceTopicName>/fluid_resistance</fluid_resistanceTopicName>
        <NameLinkToApplyResistance>base_link</NameLinkToApplyResistance>
        <rate>10.0</rate>
      </plugin> 
		-->

	<plugin name="euler_aero_plugin" filename="libeuler_aerodinamica_v1.so">
	  <robotNamespace>/propeller_test_model</robotNamespace>
	  <xyzOffset>0 0 0</xyzOffset> <!-- Altere para a posição desejada -->
	  
	  <!-- Tópicos para publicação de vento -->
	  <windForcePubTopic>vento/forca</windForcePubTopic>
	  <windSpeedPubTopic>vento/velocidade</windSpeedPubTopic>
	  
	  <!-- Definições de vento constante -->
	  <windSpeedMean>0.0</windSpeedMean> <!-- Velocidade média do vento (m/s) -->
	  <windSpeedVariance>1.0</windSpeedVariance> <!-- Variação da velocidade do vento (m/s) -->
	  <windDirection>1 0 0</windDirection> <!-- Direção do vento em coordenadas XYZ -->

	  <frontArea>2.0</frontArea> <!-- Direção da rajada em coordenadas XYZ -->
	  <dragCoeff>2.0</dragCoeff> <!-- Direção da rajada em coordenadas XYZ -->

	  <!-- Campo de vento customizado -->
	  <useCustomStaticWindField>false</useCustomStaticWindField>
	  
	  <windForceVariance>1.0</windForceVariance> <!-- Direção da rajada em coordenadas XYZ -->
	  <!-- Definições de rajadas de vento -->
	  <windGustStart>0.0</windGustStart> <!-- Tempo em que a rajada começa (s) -->
	  <windGustDuration>1.0</windGustDuration> <!-- Duração da rajada (s) -->
	  <windGustForceMean>5.0</windGustForceMean> <!-- Força média da rajada (N) -->
	  <windGustForceVariance>2.0</windGustForceVariance> <!-- Variação da força da rajada (N) -->
	  <windGustDirection>1 0 0</windGustDirection> <!-- Direção da rajada em coordenadas XYZ -->
	  <!-- Link que será afetado pelo vento -->
	  <linkName>base_link</linkName> <!-- Substitua por nome real do link -->
	  
	  <!-- ID do frame para mensagens -->
	  <frameId>world</frameId>
	</plugin>

    </model>
  </world>
</sdf>
